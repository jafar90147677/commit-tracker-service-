{
  "request": {
    "method": "POST",
    "endpoint": "/api/commits/webhook",
    "content_type": "application/json",
    "description": "Process GitHub webhook push events",
    "authentication": "Bearer token required",
    "webhook_secret": "github-webhook-secret"
  },
  "payload": {
    "event_type": "push",
    "repository": {
      "full_name": "mdasif08/True_Microservice",
      "name": "True_Microservice",
      "private": false,
      "description": "Microservice architecture with commit tracking",
      "fork": false,
      "created_at": "2024-08-25T10:00:00Z",
      "updated_at": "2025-08-26T15:56:43Z",
      "pushed_at": "2025-08-26T15:56:43Z",
      "git_url": "git://github.com/mdasif08/True_Microservice.git",
      "ssh_url": "git@github.com:mdasif08/True_Microservice.git",
      "clone_url": "https://github.com/mdasif08/True_Microservice.git",
      "size": 2048,
      "language": "Python",
      "has_issues": true,
      "has_projects": true,
      "has_downloads": true,
      "has_wiki": true,
      "has_pages": false,
      "has_discussions": false,
      "forks_count": 0,
      "archived": false,
      "disabled": false,
      "license": {
        "key": "mit",
        "name": "MIT License",
        "url": "https://api.github.com/licenses/mit"
      },
      "allow_forking": true,
      "is_template": false,
      "web_commit_signoff_required": false,
      "topics": ["microservices", "commit-tracking", "python"],
      "visibility": "public",
      "default_branch": "main"
    },
    "ref": "refs/heads/main",
    "before": "754fb66",
    "after": "84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
    "sender": {
      "login": "mdasif08",
      "id": 12345678,
      "node_id": "MDQ6VXNlcjEyMzQ1Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12345678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdasif08",
      "html_url": "https://github.com/mdasif08",
      "followers_url": "https://api.github.com/users/mdasif08/followers",
      "following_url": "https://api.github.com/users/mdasif08/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdasif08/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdasif08/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdasif08/subscriptions",
      "organizations_url": "https://api.github.com/users/mdasif08/orgs",
      "repos_url": "https://api.github.com/users/mdasif08/repos",
      "events_url": "https://api.github.com/users/mdasif08/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdasif08/received_events",
      "type": "User",
      "site_admin": false
    },
    "compare": "https://github.com/mdasif08/True_Microservice/compare/754fb66...84cb98d",
    "commits": [
      {
        "id": "84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
        "tree_id": "abc123def456789",
        "distinct": true,
        "message": "Clean up test files - automatic sync working",
        "timestamp": "2025-08-26T15:56:43+05:30",
        "url": "https://api.github.com/repos/mdasif08/True_Microservice/commits/84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
        "author": {
          "name": "mdasif08",
          "email": "mohammadasif24680@gmail.com",
          "username": "mdasif08"
        },
        "committer": {
          "name": "mdasif08",
          "email": "mohammadasif24680@gmail.com",
          "username": "mdasif08"
        },
        "added": [
          "commit-tracker-service/scripts/auto_sync_commit.py"
        ],
        "removed": [
          "commit-tracker-service/test_auto_hook.md",
          "commit-tracker-service/test_auto_sync.md"
        ],
        "modified": [
          "commit-tracker-service/src/database.py"
        ],
        "stats": {
          "total": 153,
          "additions": 139,
          "deletions": 14
        },
        "parents": [
          {
            "sha": "754fb66",
            "url": "https://api.github.com/repos/mdasif08/True_Microservice/commits/754fb66",
            "html_url": "https://github.com/mdasif08/True_Microservice/commit/754fb66"
          }
        ]
      }
    ],
    "head_commit": {
      "id": "84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
      "tree_id": "abc123def456789",
      "distinct": true,
      "message": "Clean up test files - automatic sync working",
      "timestamp": "2025-08-26T15:56:43+05:30",
      "url": "https://api.github.com/repos/mdasif08/True_Microservice/commits/84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
      "author": {
        "name": "mdasif08",
        "email": "mohammadasif24680@gmail.com",
        "username": "mdasif08"
      },
      "committer": {
        "name": "mdasif08",
        "email": "mohammadasif24680@gmail.com",
        "username": "mdasif08"
      },
      "added": [
        "commit-tracker-service/scripts/auto_sync_commit.py"
      ],
      "removed": [
        "commit-tracker-service/test_auto_hook.md",
        "commit-tracker-service/test_auto_sync.md"
      ],
      "modified": [
        "commit-tracker-service/src/database.py"
      ],
      "stats": {
        "total": 153,
        "additions": 139,
        "deletions": 14
      },
      "parents": [
        {
          "sha": "754fb66",
          "url": "https://api.github.com/repos/mdasif08/True_Microservice/commits/754fb66",
          "html_url": "https://github.com/mdasif08/True_Microservice/commit/754fb66"
        }
      ]
    },
    "pusher": {
      "name": "mdasif08",
      "email": "mohammadasif24680@gmail.com"
    },
    "installation": {
      "id": 123456,
      "node_id": "MDIzOkluc3RhbGxhdGlvbjEyMzQ1Ng=="
    }
  },
  "curl_example": "curl -X POST \"http://localhost:8001/api/commits/webhook\" -H \"Content-Type: application/json\" -H \"Authorization: Bearer YOUR_TOKEN\" -H \"X-GitHub-Event: push\" -H \"X-Hub-Signature-256: sha256=...\" -d @webhook_payload.json",
  "expected_response": {
    "status": "success",
    "message": "Tracked 1 commits from webhook",
    "commits": [
      {
        "id": "uuid-string-12345",
        "commit_hash": "84cb98d0b530536e0dd96271f7e7ed1909c24eeb",
        "repository_name": "mdasif08/True_Microservice",
        "status": "PROCESSED",
        "created_at": "2025-08-26T15:56:43Z",
        "processed_at": "2025-08-26T15:56:48Z"
      }
    ]
  },
  "error_responses": {
    "400": {
      "detail": "Invalid webhook payload"
    },
    "401": {
      "detail": "Unauthorized"
    },
    "422": {
      "detail": "Validation error"
    },
    "500": {
      "detail": "Internal server error"
    }
  }
}
